{{- /* -*- mode: web; -*- */ -}}
{{- $areaData := .dotfiles.areaData.default -}}
{{- if eq .dotfiles.area "cn" -}}
{{- $areaData = mergeOverwrite $areaData .dotfiles.areaData.cn -}}
{{- end -}}
{{- $npmRegistry := $areaData.npmRegistry -}}
{{- $npmDisturl := $areaData.npmDisturl -}}
{{- $sassBinarySite := $areaData.sassBinarySite -}}
{{- $electronMirror := $areaData.electronMirror -}}
{{- $electronCustomDir := $areaData.electronCustomDir -}}
{{- $puppeteerDownloadHost := $areaData.puppeteerDownloadHost -}}
{{- $puppeteerDownloadBaseURL := $areaData.puppeteerDownloadBaseURL -}}
## Registries
# https://github.com/yarnpkg/yarn/issues/3700#issuecomment-312872253
# https://docs.microsoft.com/en-us/vsts/package/npm/scopes
registry = {{ $npmRegistry }}

## For node-gyp
# https://stackoverflow.com/questions/18503373/how-to-set-tarball-url-of-node-gyp-via-environment-variable
# https://github.com/nodejs/node-gyp/blob/v7.0.0/lib/process-release.js#L22
# https://github.com/nodejs/node-gyp/blob/v7.0.0/lib/process-release.js#L65-L67
disturl = {{ $npmDisturl }}

## For node-sass
# https://github.com/sass/node-sass#binary-configuration-parameters
# https://github.com/sass/node-sass/blob/v4.14.1/lib/extensions.js#L247
sass_binary_site = {{ $sassBinarySite }}

## For Electron
# https://www.electronjs.org/docs/latest/tutorial/installation#mirror
# https://github.com/electron/get/blob/a0d0ea97850950a8a5a21a510cd4d9514af66a64/src/artifact-utils.ts#L47
# https://github.com/electron/get/blob/a0d0ea97850950a8a5a21a510cd4d9514af66a64/src/artifact-utils.ts#L4
electron_mirror = {{ $electronMirror }}
electron_custom_dir = {{ $electronCustomDir | quote }}

## For Puppeteer
# https://github.com/puppeteer/puppeteer/blob/main/docs/api.md#environment-variables
# https://github.com/puppeteer/puppeteer/commit/9758cae029f90908c4b5340561d9c51c26aa2f21
# https://github.com/puppeteer/puppeteer/pull/10130
# https://github.com/puppeteer/puppeteer/commit/945a826a0b53bb7325fdb86c998f812b16032c37
puppeteer_download_host = {{ $puppeteerDownloadHost }}
puppeteer_download_base_url = {{ $puppeteerDownloadBaseURL }}

## prefix
# This setting controls the output of `npm prefix -g`.
#
# https://docs.npmjs.com/cli/v7/commands/npm-prefix
#
# Note: in order to use `~`, you must append a path separator: `~/`.
prefix = ~/.npm-packages
